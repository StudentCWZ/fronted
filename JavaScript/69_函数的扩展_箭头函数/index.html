<!--
 * @Software: Visual Studio Code
 * @Author: StudentCWZ
 * @Email: StudentCWZ@outlook.com
 * @Date: 2023-10-31 08:27:30
 * @Last Modified by: StudentCWZ
 * @Description: 函数的扩展_箭头函数
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>函数的扩展_箭头函数</title>
</head>

<body>
    <script>
        // 基本用法
        // ES6 允许使用箭头(=>)定义函数
        // 如果箭头函数不需要参数或需要多个参数，就使用一个圆括号代表参数部分
        // 第一种
        function fn1() { }
        // 第二种：赋值方式声明函数
        var fn2 = function (x, y) {
            return x + y;
        }
        // 第三种：箭头函数 =>
        var fn3 = (x, y) => x + y;
        console.log(fn3(10, 20));
        var fn4 = x => x;
        var fn5 = () => 5;
        // 如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用 return 语句返回
        var fn6 = (x, y) => {
            var z = 10;
            return x + y + z;
        }
        // 由于大括号被解释为代码块，如果箭头函数直接返回一个对象，必须在对象外面加上括号，否则会报错
        var fn7 = (x, y) => ({
            x: 10,
            y: 20
        })
        // 箭头函数的一个用处是简化回调函数
        var arr = [10, 20, 30];
        arr.map(function (element, index) {
            console.log(element);
        })
        arr.map((element, index) => {
            console.log(element);
        })
        // 使用注意点
        var name = "Mark"
        var user = {
            name: "Jack",
            age: 20,
            getName() {
                console.log(this.name); // jack
            }
        }
        user.getName();
        // 对于普通函数来说，内部的 this 指向函数运行时所在对象，但是这一点对箭头函数不成立。它没有自己的 this 对象。内部的 this 就是定义时上层作用域中的 this
        var name1 = "Mark"
        var user1 = {
            name1: "Jack",
            age1: 20,
            getName() {
                setTimeout(() => {
                    console.log(this.name1); // Mark
                })
            }
        }
        user1.getName();
    </script>
</body>

</html>